[pytest]
asyncio_mode = auto
env =
    IS_TEST=True
filterwarnings =
    error::pytest.PytestConfigWarning
    error::pytest.PytestUnhandledCoroutineWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Performance optimizations
markers =
    universal_offline_stores: Tests using all offline stores
    universal_online_stores: Tests using all online stores
    rbac_remote_integration_test: RBAC and remote functionality tests
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (slower, requires services)
    slow: Tests taking >30 seconds

# Reduce default timeout from 20 minutes to 5 minutes
timeout = 300
timeout_method = thread

# Enhanced parallelization
addopts = --tb=short -v --durations=20 --strict-markers
